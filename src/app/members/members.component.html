<div class="content" role="main">
<h1>Registered members</h1>
<button  class="mat-raised-button mat-primary header-align-left" (click)="openDialog()">
  Add member
</button>
<button class="mat-raised-button mat-accent header-align-right">
  Send Email
</button>

<mat-form-field>
    <input matInput type="text" placeholder="Filter" (keyup)="applyFilter($event)">
  </mat-form-field>
    <ng-container *ngIf="dataSource">
    <div class="edit-users mat-elevation-z8">
      <table mat-table class="full-width-table" matSort aria-label="Elements" [dataSource]="dataSource">

        <!-- First Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>First Name</th>
          <td mat-cell *matCellDef="let row;">
            <input [formControl]="row.validator.get('name')" type="text" matInput [readonly]="!row.editable">
          </td>
        </ng-container>

        <!-- Last Name Column -->
        <ng-container matColumnDef="last_name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Last Name</th>
          <td mat-cell *matCellDef="let row">
            <input [formControl]="row.validator.get('last_name')" type="text" matInput [readonly]="!row.editable">
          </td>
        </ng-container>

        <!-- email_address Column -->
        <ng-container matColumnDef="email_address">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
          <td mat-cell *matCellDef="let row">
            <input [formControl]="row.validator.get('email_address')" type="text" matInput [readonly]="!row.editable">
          </td>
        </ng-container>

        <!-- Team Column -->
        <ng-container matColumnDef="phone_number">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Phone No.</th>
          <td mat-cell *matCellDef="let row">
            <input [formControl]="row.validator.get('phone_number')" type="text" matInput [readonly]="!row.editable">
          </td>
        </ng-container>

        <!-- Action Column -->
        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef>Action</th>
          <td mat-cell *matCellDef="let row; let i = index">
            <span style="display: flex;">
              <button *ngIf="!row.editable" mat-icon-button  color="primary" focusable="false" (click)="startEdit(row)">
                <mat-icon>edit</mat-icon>
              </button>
              <button *ngIf="row.editable" mat-icon-button  color="primary" focusable="false" (click)="confirmEditCreate(row)">
                <mat-icon>check</mat-icon>
              </button>
              <button mat-icon-button color="warn" focusable="false" (click)="cancelOrDelete(row, i)">
                <mat-icon>{{row.editable ? 'close' : 'delete'}}</mat-icon>
              </button>
            </span>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" [ngClass]="row.editable ? 'editable' : 'readonly'"></tr>
      </table>
      <mat-paginator #paginator
          [length]="dataSource.data.length"
          [pageIndex]="0"
          [pageSize]="5"
          [pageSizeOptions]="[5, 10, 20]">
      </mat-paginator>
    </div>
    </ng-container>
  </div>
